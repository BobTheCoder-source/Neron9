<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Neron Forum</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 0;
            background-color: #f4f4f9;
        }
        .container {
            width: 80%;
            margin: 0 auto;
            padding: 20px;
        }
        .hidden {
            display: none;
        }
        h1, h2, p {
            text-align: center;
        }
        textarea, input[type="text"], button {
            display: block;
            margin: 10px auto;
            padding: 10px;
            width: 80%;
        }
        .messages {
            margin: 20px auto;
            padding: 10px;
            border: 1px solid #ccc;
            background-color: #fff;
        }
    </style>
</head>
<body>
    <div id="nicknameScreen" class="container">
        <h1>Welcome to Neron Forum!</h1>
        <p>Enter your nickname to proceed:</p>
        <input type="text" id="nickname" placeholder="Your nickname..." required>
        <button onclick="saveNickname()">Continue</button>
    </div>

    <div id="rulesScreen" class="container hidden">
        <h1>Important Rules</h1>
        <p>Please read the rules before entering the forum:</p>
        <ul>
            <li>NSFW (Not Safe For Work) content is strictly prohibited.</li>
            <li>Do not post any pornographic material.</li>
            <li>Respect all community members and avoid hateful or offensive language.</li>
            <li>Ensure all shared images comply with community guidelines.</li>
        </ul>
        <button onclick="enterForum()">I Agree</button>
    </div>

    <div id="forumScreen" class="container hidden">
        <h1>Welcome to the Forum!</h1>
        <h2 id="greeting"></h2>
        <textarea id="messageInput" placeholder="Write your message..."></textarea>
        <button onclick="postMessage()">Post Message</button>
        <div id="messages" class="messages">
            <!-- Messages will appear here -->
        </div>
    </div>

    <script>
        let messages = []; // Store messages

        function saveNickname() {
            const nickname = document.getElementById("nickname").value;
            if (!nickname) {
                alert("Please enter a nickname!");
                return;
            }
            localStorage.setItem("nickname", nickname);
            document.getElementById("nicknameScreen").classList.add("hidden");
            document.getElementById("rulesScreen").classList.remove("hidden");
        }

        function enterForum() {
            const nickname = localStorage.getItem("nickname");
            if (!nickname) return;
            document.getElementById("rulesScreen").classList.add("hidden");
            document.getElementById("forumScreen").classList.remove("hidden");
            document.getElementById("greeting").innerText = `Hello, ${nickname}!`;
            loadMessages();
        }

        function postMessage() {
            const message = document.getElementById("messageInput").value;
            if (!message) {
                alert("Please write a message!");
                return;
            }
            const nickname = localStorage.getItem("nickname");
            const newMessage = { nickname, text: message };
            messages.push(newMessage);
            localStorage.setItem("messages", JSON.stringify(messages));
            document.getElementById("messageInput").value = "";
            loadMessages();
        }

        function loadMessages() {
            const savedMessages = localStorage.getItem("messages");
            if (savedMessages) {
                messages = JSON.parse(savedMessages);
            }
            const messagesDiv = document.getElementById("messages");
            messagesDiv.innerHTML = "";
            messages.forEach(msg => {
                const messageElement = document.createElement("div");
                messageElement.innerText = `${msg.nickname}: ${msg.text}`;
                messagesDiv.appendChild(messageElement);
            });
        }

        // Load nickname or reset to nickname screen
        window.onload = function() {
            const nickname = localStorage.getItem("nickname");
            if (nickname) {
                document.getElementById("nicknameScreen").classList.add("hidden");
                document.getElementById("rulesScreen").classList.remove("hidden");
            }
        };
    </script>
</body>
</html>
